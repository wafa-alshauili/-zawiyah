<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>القاعات</title>
<link rel="stylesheet" href="style.css">
<link href="https://fonts.googleapis.com/css2?family=Arabic+Poetry:opsz,wght@16..72,400;16..72,700&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
<nav class="navbar">
	<div class="corner-logos">
		<img class="logo-ministry" src="https://i.ibb.co/HfwV7QB5/ministerylogo1-1.png" alt="شعار وزارة التربية والتعليم سلطنة عمان">
	</div>
</nav>

<main class="container">
			<div class="site-title-bar" style="text-align:center; margin: 40px auto 0 auto;">
				<span class="site-title">زاوية</span>
					<div style="position:relative;">
												<button id="menu-toggle" style="display:none; background:none; border:none; position:absolute; left:18px; top:18px; z-index:1100; cursor:pointer;">
													  <span style="font-size:1.5em; color:#1b3767;">&#9776;</span>
												</button>
												<ul class="nav-links" id="nav-links" style="display:flex; justify-content:center; gap:32px; list-style:none; margin:28px auto 0 auto; padding:0; background:rgba(27,55,103,0.12); border-radius:16px; box-shadow:0 2px 12px rgba(27,55,103,0.08);">
													<li><a href="index.html" style="font-size:1.2em; font-family:'Times New Roman', Times, serif; color:#1b3767; font-weight:bold; padding:10px 24px; border-radius:8px;">الرئيسية</a></li>
													<li><a href="reservations.html" style="font-size:1.2em; font-family:'Times New Roman', Times, serif; color:#1b3767; font-weight:bold; padding:10px 24px; border-radius:8px;">الحجوزات</a></li>
													<li><a href="rooms.html" class="active" style="font-size:1.2em; font-family:'Times New Roman', Times, serif; color:#1b3767; font-weight:bold; padding:10px 24px; border-radius:8px;">القاعات</a></li>
												</ul>
					</div>
			</div>

<main class="container">
	<h1 class="main-title">زاوية</h1>
<h2>إدارة القاعات</h2>

<form id="room-form">
<input type="text" id="room-name" placeholder="اسم القاعة" required>
<button type="submit">➕ إضافة قاعة</button>
<button type="button" onclick="addMissingRooms()" style="background: #17a2b8; color: white; margin-right: 10px;">🆕 إضافة القاعات الجديدة</button>
<button type="button" onclick="restoreRoomsBackup()" style="background: #ffc107; color: #212529; margin-right: 10px;">🔄 استعادة النسخة الاحتياطية</button>
<button type="button" onclick="resetToDefault()" style="background: #6c757d; color: white; margin-right: 10px;">⚙️ إعادة تعيين</button>
</form>

<ul id="room-list"></ul>

<!-- نافذة إحصائيات القاعة -->
<div id="room-stats-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 1000;">
  <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 30px; border-radius: 12px; width: 90%; max-width: 800px; max-height: 80vh; overflow-y: auto;">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
      <h3 id="room-stats-title" style="color: #1b3767; margin: 0;">📊 إحصائيات القاعة</h3>
      <button onclick="closeRoomStatsModal()" style="background: none; border: none; font-size: 24px; cursor: pointer; color: #666;">×</button>
    </div>
    
    <div id="room-stats-content" style="text-align: center;">
      <div style="margin: 20px 0;">
        <div style="color: #666;">جاري تحميل الإحصائيات...</div>
      </div>
    </div>
    
    <div style="display: flex; gap: 10px; justify-content: center; margin-top: 20px;">
      <button onclick="printRoomStats()" style="background: #28a745; color: white; border: none; padding: 10px 20px; border-radius: 6px; cursor: pointer;">
        🖨️ طباعة
      </button>
      <button onclick="exportRoomStats()" style="background: #17a2b8; color: white; border: none; padding: 10px 20px; border-radius: 6px; cursor: pointer;">
        💾 تصدير
      </button>
    </div>
  </div>
</div>
</main>

<script src="script.js"></script>
<script>
// نظام إدارة القاعات محلياً
let rooms = [];

// تحميل القاعات من localStorage
function loadRooms() {
  try {
    const savedRooms = localStorage.getItem('school_rooms');
    if (savedRooms) {
      rooms = JSON.parse(savedRooms);
      console.log('تم تحميل القاعات من localStorage:', rooms);
      
      // التحقق من وجود القاعات الجديدة وإضافتها إذا لم تكن موجودة
      checkAndAddNewRooms();
    } else {
      console.log('لا توجد قاعات محفوظة، إنشاء قاعات افتراضية...');
      // قاعات افتراضية
      rooms = ['المختبر', 'قاعة الحاسوب', 'المكتبة', 'القاعة الرئيسية', 'القاعة الذكية', 'غرفة صفية'];
      saveRooms();
    }
  } catch (error) {
    console.error('خطأ في تحميل القاعات:', error);
    // في حالة الخطأ، استخدم القاعات الافتراضية
    rooms = ['المختبر', 'قاعة الحاسوب', 'المكتبة', 'القاعة الرئيسية', 'القاعة الذكية', 'غرفة صفية'];
    saveRooms();
  }
  
  // التأكد من وجود قاعات
  if (!Array.isArray(rooms) || rooms.length === 0) {
    console.log('تصحيح: إضافة قاعات افتراضية');
    rooms = ['المختبر', 'قاعة الحاسوب', 'المكتبة', 'القاعة الرئيسية', 'القاعة الذكية', 'غرفة صفية'];
    saveRooms();
  }
  
  displayRooms();
}

// التحقق من وجود القاعات الجديدة وإضافتها
function checkAndAddNewRooms() {
  const newRooms = ['القاعة الذكية', 'غرفة صفية'];
  let added = false;
  
  newRooms.forEach(room => {
    if (!rooms.includes(room)) {
      rooms.push(room);
      added = true;
      console.log(`تمت إضافة قاعة جديدة: ${room}`);
    }
  });
  
  if (added) {
    saveRooms();
    alert('✅ تم إضافة قاعات جديدة: القاعة الذكية، غرفة صفية');
  }
}

// حفظ القاعات في localStorage
function saveRooms() {
  try {
    // حفظ النسخة الأساسية
    localStorage.setItem('school_rooms', JSON.stringify(rooms));
    // حفظ نسخة احتياطية
    localStorage.setItem('school_rooms_backup', JSON.stringify(rooms));
    // حفظ وقت آخر تحديث
    localStorage.setItem('school_rooms_last_update', new Date().toISOString());
    console.log('تم حفظ القاعات:', rooms);
  } catch (error) {
    console.error('خطأ في حفظ القاعات:', error);
    alert('⚠️ حدث خطأ في حفظ البيانات. تأكد من وجود مساحة كافية في المتصفح.');
  }
}

// عرض قائمة القاعات
function displayRooms() {
  const roomList = document.getElementById('room-list');
  roomList.innerHTML = '';
  
  if (rooms.length === 0) {
    roomList.innerHTML = '<li style="text-align: center; color: #666; padding: 20px; font-style: italic;">لا توجد قاعات مضافة</li>';
    return;
  }
  
  rooms.forEach((room, index) => {
    const li = document.createElement('li');
    li.innerHTML = `
      <div style="display: flex; justify-content: space-between; align-items: center; padding: 10px 0;">
        <div>
          <strong style="color: #1b3767; font-size: 1.1em;">${index + 1}. ${room}</strong>
          <div style="color: #666; font-size: 0.9em; margin-top: 5px;">📍 قاعة متاحة للحجز</div>
        </div>
        <div style="display: flex; gap: 8px;">
          <button onclick="showRoomStats('${room}')" 
                  style="background: linear-gradient(135deg, #007bff, #0056b3); color: white; border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; font-size: 0.9em; transition: transform 0.2s;">
            📊 إحصائيات
          </button>
          <button onclick="deleteRoom(${index})" 
                  style="background: #dc3545; color: white; border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; font-size: 0.9em;">
            🗑️ حذف
          </button>
        </div>
      </div>
    `;
    roomList.appendChild(li);
  });
  
  // إضافة إحصائيات
  const statsDiv = document.createElement('div');
  statsDiv.style.cssText = `
    background: #1b3767; color: white; padding: 15px; border-radius: 8px; 
    margin: 20px 0; text-align: center;
  `;
  statsDiv.innerHTML = `
    <h3 style="margin: 0 0 15px 0;">📊 إحصائيات القاعات</h3>
    <p style="margin: 5px 0; font-size: 1.1em;">
      إجمالي القاعات: <strong>${rooms.length}</strong>
    </p>
    <button onclick="showDataStatus()" style="background: rgba(255,255,255,0.2); color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer; margin-top: 10px; font-size: 0.9em;">
      📋 حالة البيانات
    </button>
  `;
  roomList.appendChild(statsDiv);
}

// إضافة قاعة جديدة
function addRoom(event) {
  event.preventDefault();
  const roomNameInput = document.getElementById('room-name');
  const roomName = roomNameInput.value.trim();
  
  if (!roomName) {
    alert('⚠️ يرجى إدخال اسم القاعة');
    return;
  }
  
  if (rooms.includes(roomName)) {
    alert('❌ هذه القاعة موجودة بالفعل');
    return;
  }
  
  rooms.push(roomName);
  saveRooms();
  displayRooms();
  roomNameInput.value = '';
  
  alert(`✅ تم إضافة القاعة "${roomName}" بنجاح`);
}

// حذف قاعة
function deleteRoom(index) {
  const roomName = rooms[index];
  if (confirm(`هل أنت متأكد من حذف القاعة "${roomName}"؟`)) {
    rooms.splice(index, 1);
    saveRooms();
    displayRooms();
    alert(`✅ تم حذف القاعة "${roomName}" بنجاح`);
  }
}

// تهيئة النظام عند تحميل الصفحة
document.addEventListener('DOMContentLoaded', function() {
  loadRooms();
  document.getElementById('room-form').addEventListener('submit', addRoom);
});

// إضافة القاعات المفقودة يدوياً
function addMissingRooms() {
  const newRooms = ['القاعة الذكية', 'غرفة صفية'];
  let addedRooms = [];
  
  newRooms.forEach(room => {
    if (!rooms.includes(room)) {
      rooms.push(room);
      addedRooms.push(room);
    }
  });
  
  if (addedRooms.length > 0) {
    saveRooms();
    displayRooms();
    alert(`✅ تمت إضافة القاعات التالية:\n${addedRooms.join('\n')}`);
  } else {
    alert('ℹ️ جميع القاعات موجودة بالفعل');
  }
}

// استعادة النسخة الاحتياطية
function restoreRoomsBackup() {
  try {
    const backupRooms = localStorage.getItem('school_rooms_backup');
    if (backupRooms) {
      const parsedBackup = JSON.parse(backupRooms);
      if (Array.isArray(parsedBackup) && parsedBackup.length > 0) {
        rooms = parsedBackup;
        saveRooms();
        displayRooms();
        alert(`✅ تم استعادة ${rooms.length} قاعة من النسخة الاحتياطية`);
      } else {
        alert('⚠️ النسخة الاحتياطية فارغة أو تالفة');
      }
    } else {
      alert('❌ لا توجد نسخة احتياطية متاحة');
    }
  } catch (error) {
    console.error('خطأ في استعادة النسخة الاحتياطية:', error);
    alert('❌ فشل في استعادة النسخة الاحتياطية');
  }
}

// إعادة تعيين للقاعات الافتراضية
function resetToDefault() {
  if (confirm('هل أنت متأكد من إعادة تعيين جميع القاعات للإعدادات الافتراضية؟\nسيتم فقدان جميع القاعات المخصصة.')) {
    rooms = ['المختبر', 'قاعة الحاسوب', 'المكتبة', 'القاعة الرئيسية', 'القاعة الذكية', 'غرفة صفية'];
    saveRooms();
    displayRooms();
    alert('✅ تم إعادة تعيين القاعات للإعدادات الافتراضية (6 قاعات)');
  }
}

// عرض معلومات حالة البيانات
function showDataStatus() {
  const lastUpdate = localStorage.getItem('school_rooms_last_update');
  const hasBackup = localStorage.getItem('school_rooms_backup');
  const currentRooms = rooms.length;
  
  let message = `📊 حالة بيانات القاعات:\n`;
  message += `• عدد القاعات الحالية: ${currentRooms}\n`;
  message += `• آخر تحديث: ${lastUpdate ? new Date(lastUpdate).toLocaleString('ar-SA') : 'غير محدد'}\n`;
  message += `• النسخة الاحتياطية: ${hasBackup ? 'متوفرة ✅' : 'غير متوفرة ❌'}`;
  
  alert(message);
}

// دوال إحصائيات القاعة
function showRoomStats(roomName) {
  const modal = document.getElementById('room-stats-modal');
  const title = document.getElementById('room-stats-title');
  const content = document.getElementById('room-stats-content');
  
  title.textContent = `📊 إحصائيات قاعة ${roomName}`;
  content.innerHTML = '<div style="color: #666;">جاري تحميل الإحصائيات...</div>';
  modal.style.display = 'block';
  
  // حساب الإحصائيات
  setTimeout(() => {
    const stats = calculateRoomStats(roomName);
    displayRoomStatsContent(stats, roomName);
  }, 500);
}

function calculateRoomStats(roomName) {
  // جلب الحجوزات من localStorage
  const reservations = JSON.parse(localStorage.getItem('school_reservations') || '[]');
  const roomReservations = reservations.filter(res => res.room === roomName);
  
  if (roomReservations.length === 0) {
    return {
      totalReservations: 0,
      topTeachers: [],
      topSubjects: [],
      busyDays: [],
      weeklyActivity: {}
    };
  }
  
  // أكثر المعلمات حجزاً
  const teacherCounts = {};
  roomReservations.forEach(res => {
    teacherCounts[res.teacher] = (teacherCounts[res.teacher] || 0) + 1;
  });
  const topTeachers = Object.entries(teacherCounts)
    .sort(([,a], [,b]) => b - a)
    .slice(0, 5);
  
  // أكثر الفصول نشاطاً
  const subjectCounts = {};
  roomReservations.forEach(res => {
    subjectCounts[res.subject] = (subjectCounts[res.subject] || 0) + 1;
  });
  const topSubjects = Object.entries(subjectCounts)
    .sort(([,a], [,b]) => b - a)
    .slice(0, 5);
  
  // أكثر الأيام نشاطاً
  const dayCounts = {};
  const dayNames = ['الأحد', 'الإثنين', 'الثلاثاء', 'الأربعاء', 'الخميس'];
  roomReservations.forEach(res => {
    const dayName = dayNames[res.day] || `اليوم ${res.day + 1}`;
    dayCounts[dayName] = (dayCounts[dayName] || 0) + 1;
  });
  const busyDays = Object.entries(dayCounts)
    .sort(([,a], [,b]) => b - a)
    .slice(0, 5);
  
  return {
    totalReservations: roomReservations.length,
    topTeachers,
    topSubjects,
    busyDays,
    weeklyActivity: dayCounts
  };
}

function displayRoomStatsContent(stats, roomName) {
  const content = document.getElementById('room-stats-content');
  
  if (stats.totalReservations === 0) {
    content.innerHTML = `
      <div style="text-align: center; padding: 40px;">
        <div style="font-size: 48px; margin-bottom: 20px;">📋</div>
        <h3 style="color: #666;">لا توجد حجوزات لهذه القاعة</h3>
        <p style="color: #999;">لم يتم تسجيل أي حجوزات لقاعة ${roomName} حتى الآن</p>
      </div>
    `;
    return;
  }
  
  content.innerHTML = `
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
      
      <!-- إجمالي الحجوزات -->
      <div style="background: linear-gradient(135deg, #1b3767, #2d4a7a); color: white; padding: 20px; border-radius: 8px; text-align: center;">
        <div style="font-size: 36px; margin-bottom: 10px;">📅</div>
        <h4 style="margin: 0 0 10px 0;">إجمالي الحجوزات</h4>
        <div style="font-size: 28px; font-weight: bold;">${stats.totalReservations}</div>
      </div>
      
      <!-- أكثر المعلمات حجزاً -->
      <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; border: 2px solid #e9ecef;">
        <h4 style="color: #1b3767; margin: 0 0 15px 0; text-align: center;">👩‍🏫 أكثر المعلمات حجزاً</h4>
        ${stats.topTeachers.length > 0 ? 
          stats.topTeachers.map(([teacher, count], index) => `
            <div style="display: flex; justify-content: space-between; align-items: center; padding: 8px 0; border-bottom: 1px solid #e9ecef;">
              <span style="font-weight: ${index === 0 ? 'bold' : 'normal'}; color: ${index === 0 ? '#1b3767' : '#666'};">
                ${index + 1}. ${teacher}
              </span>
              <span style="background: ${index === 0 ? '#1b3767' : '#6c757d'}; color: white; padding: 4px 8px; border-radius: 12px; font-size: 0.9em;">
                ${count}
              </span>
            </div>
          `).join('') : 
          '<div style="text-align: center; color: #999;">لا توجد بيانات</div>'
        }
      </div>
      
      <!-- أكثر الفصول نشاطاً -->
      <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; border: 2px solid #e9ecef;">
        <h4 style="color: #1b3767; margin: 0 0 15px 0; text-align: center;">📚 أكثر الفصول نشاطاً</h4>
        ${stats.topSubjects.length > 0 ? 
          stats.topSubjects.map(([subject, count], index) => `
            <div style="display: flex; justify-content: space-between; align-items: center; padding: 8px 0; border-bottom: 1px solid #e9ecef;">
              <span style="font-weight: ${index === 0 ? 'bold' : 'normal'}; color: ${index === 0 ? '#1b3767' : '#666'};">
                ${index + 1}. ${subject}
              </span>
              <span style="background: ${index === 0 ? '#28a745' : '#6c757d'}; color: white; padding: 4px 8px; border-radius: 12px; font-size: 0.9em;">
                ${count}
              </span>
            </div>
          `).join('') : 
          '<div style="text-align: center; color: #999;">لا توجد بيانات</div>'
        }
      </div>
      
      <!-- أكثر الأيام نشاطاً -->
      <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; border: 2px solid #e9ecef;">
        <h4 style="color: #1b3767; margin: 0 0 15px 0; text-align: center;">📊 أكثر الأيام نشاطاً</h4>
        ${stats.busyDays.length > 0 ? 
          stats.busyDays.map(([day, count], index) => `
            <div style="display: flex; justify-content: space-between; align-items: center; padding: 8px 0; border-bottom: 1px solid #e9ecef;">
              <span style="font-weight: ${index === 0 ? 'bold' : 'normal'}; color: ${index === 0 ? '#1b3767' : '#666'};">
                ${index + 1}. ${day}
              </span>
              <span style="background: ${index === 0 ? '#17a2b8' : '#6c757d'}; color: white; padding: 4px 8px; border-radius: 12px; font-size: 0.9em;">
                ${count}
              </span>
            </div>
          `).join('') : 
          '<div style="text-align: center; color: #999;">لا توجد بيانات</div>'
        }
      </div>
      
    </div>
    
    <!-- رسم بياني للأيام -->
    <div style="margin-top: 30px; background: white; padding: 20px; border-radius: 8px; border: 2px solid #e9ecef;">
      <h4 style="color: #1b3767; text-align: center; margin-bottom: 20px;">📈 توزيع الحجوزات حسب الأيام</h4>
      <canvas id="room-days-chart" width="400" height="200"></canvas>
    </div>
  `;
  
  // رسم الرسم البياني
  setTimeout(() => createRoomDaysChart(stats.weeklyActivity), 100);
}

function createRoomDaysChart(weeklyActivity) {
  const canvas = document.getElementById('room-days-chart');
  if (!canvas) return;
  
  // تدمير الرسم البياني القديم إن وُجد
  if (window.roomDaysChart) {
    window.roomDaysChart.destroy();
  }
  
  const days = ['الأحد', 'الإثنين', 'الثلاثاء', 'الأربعاء', 'الخميس'];
  const data = days.map(day => weeklyActivity[day] || 0);
  
  const ctx = canvas.getContext('2d');
  window.roomDaysChart = new Chart(ctx, {
    type: 'bar',
    data: {
      labels: days,
      datasets: [{
        label: 'عدد الحجوزات',
        data: data,
        backgroundColor: [
          '#1b3767',
          '#2d4a7a',
          '#3e5d8d',
          '#4f70a0',
          '#6083b3'
        ],
        borderColor: '#1b3767',
        borderWidth: 1,
        borderRadius: 4
      }]
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      plugins: {
        legend: {
          display: false
        }
      },
      scales: {
        y: {
          beginAtZero: true,
          ticks: {
            stepSize: 1,
            font: {
              family: 'Arial'
            }
          },
          grid: {
            color: '#e9ecef'
          }
        },
        x: {
          ticks: {
            font: {
              family: 'Arial',
              size: 12
            }
          },
          grid: {
            display: false
          }
        }
      },
      animation: {
        duration: 1000,
        easing: 'easeOutQuart'
      }
    }
  });
}

function closeRoomStatsModal() {
  document.getElementById('room-stats-modal').style.display = 'none';
}

function printRoomStats() {
  const roomName = document.getElementById('room-stats-title').textContent.replace('📊 إحصائيات قاعة ', '');
  const content = document.getElementById('room-stats-content').innerHTML;
  
  const printWindow = window.open('', '_blank');
  printWindow.document.write(`
    <!DOCTYPE html>
    <html dir="rtl">
    <head>
      <meta charset="UTF-8">
      <title>إحصائيات قاعة ${roomName}</title>
      <style>
        body { font-family: Arial, sans-serif; margin: 20px; direction: rtl; }
        h1 { color: #1b3767; text-align: center; }
        .no-print { display: none; }
        @media print { .no-print { display: none !important; } }
      </style>
    </head>
    <body>
      <h1>إحصائيات قاعة ${roomName}</h1>
      <div>${content}</div>
      <p style="text-align: center; margin-top: 30px; color: #666; font-size: 0.9em;">
        طُبعت من نظام زاوية - ${new Date().toLocaleDateString('ar-SA')}
      </p>
    </body>
    </html>
  `);
  printWindow.document.close();
  printWindow.print();
}

function exportRoomStats() {
  const roomName = document.getElementById('room-stats-title').textContent.replace('📊 إحصائيات قاعة ', '');
  const stats = calculateRoomStats(roomName);
  
  const exportData = {
    roomName: roomName,
    exportDate: new Date().toISOString(),
    totalReservations: stats.totalReservations,
    topTeachers: stats.topTeachers,
    topSubjects: stats.topSubjects,
    busyDays: stats.busyDays,
    weeklyActivity: stats.weeklyActivity
  };
  
  const dataStr = JSON.stringify(exportData, null, 2);
  const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);
  
  const exportFileDefaultName = `room-stats-${roomName}-${new Date().toISOString().split('T')[0]}.json`;
  
  const linkElement = document.createElement('a');
  linkElement.setAttribute('href', dataUri);
  linkElement.setAttribute('download', exportFileDefaultName);
  linkElement.click();
  
  alert(`✅ تم تصدير إحصائيات قاعة "${roomName}" بنجاح`);
}

// إظهار زر القائمة في الشاشات الصغيرة وتثبيت موقعه في أعلى يسار الصفحة
function toggleMenuButton() {
	var btn = document.getElementById('menu-toggle');
	var nav = document.getElementById('nav-links');
	btn.style.position = 'fixed';
	btn.style.left = '18px';
	btn.style.top = '18px';
	btn.style.zIndex = '1100';
	if(window.innerWidth <= 768) {
		btn.style.display = 'block';
		nav.style.position = 'absolute';
		nav.style.top = '60px';
		nav.style.left = '50%';
		nav.style.transform = 'translateX(-50%)';
		nav.style.width = '90vw';
		nav.style.maxWidth = '320px';
		nav.style.background = '#fff';
		nav.style.boxShadow = '0 2px 12px #1b376722';
		nav.style.borderRadius = '12px';
		nav.style.zIndex = '1000';
	} else {
		btn.style.display = 'none';
		nav.style.position = '';
		nav.style.top = '';
		nav.style.left = '';
		nav.style.transform = '';
		nav.style.width = '';
		nav.style.maxWidth = '';
		nav.style.background = 'rgba(27,55,103,0.12)';
		nav.style.boxShadow = '0 2px 12px rgba(27,55,103,0.08)';
		nav.style.borderRadius = '16px';
		nav.style.zIndex = '';
		nav.classList.remove('show');
	}
}
window.addEventListener('resize', toggleMenuButton);
window.addEventListener('DOMContentLoaded', toggleMenuButton);
</script>
</body>
<footer style="background:rgba(27,55,103,0.08); color:#1b3767; text-align:center; padding:18px 0; font-size:1.1em; font-family:'Times New Roman', Times, serif; margin-top:40px; border-radius:0 0 16px 16px;">
	مصممة الموقع : وفاء الشعيلية &mdash; معلمة تقنية معلومات
</footer>
</html>
