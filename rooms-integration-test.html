<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ø®ØªØ¨Ø§Ø± ØªÙƒØ§Ù…Ù„ ØµÙØ­Ø© Ø§Ù„Ù‚Ø§Ø¹Ø§Øª</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            direction: rtl;
        }
        .test-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        .test-header {
            text-align: center;
            margin-bottom: 30px;
            color: #1b3767;
        }
        .test-section {
            margin: 20px 0;
            padding: 20px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            background: #f9f9f9;
        }
        .test-section h3 {
            color: #1b3767;
            margin-top: 0;
        }
        .status {
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
            font-weight: bold;
        }
        .status.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .status.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .status.info {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
        button {
            background: #1b3767;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background: #2c5282;
        }
        #testResults {
            margin-top: 20px;
            max-height: 400px;
            overflow-y: auto;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <div class="test-header">
            <h1>ğŸ§ª Ø§Ø®ØªØ¨Ø§Ø± ØªÙƒØ§Ù…Ù„ ØµÙØ­Ø© Ø§Ù„Ù‚Ø§Ø¹Ø§Øª Ù…Ø¹ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø®ØªÙ„Ø·</h1>
            <p>Ø§Ø®ØªØ¨Ø§Ø± Ø´Ø§Ù…Ù„ Ù„ØªÙƒØ§Ù…Ù„ dataManager Ùˆ Firebase Ù…Ø¹ ØµÙØ­Ø© Ø§Ù„Ù‚Ø§Ø¹Ø§Øª</p>
        </div>

        <div class="test-section">
            <h3>ğŸ”§ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø£Ù†Ø¸Ù…Ø©</h3>
            <button onclick="checkSystems()">ÙØ­Øµ Ø§Ù„Ø£Ù†Ø¸Ù…Ø©</button>
            <div id="systemStatus"></div>
        </div>

        <div class="test-section">
            <h3>ğŸ“ Ø§Ø®ØªØ¨Ø§Ø± Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ù‚Ø§Ø¹Ø§Øª</h3>
            <button onclick="testAddRoom()">Ø§Ø®ØªØ¨Ø§Ø± Ø¥Ø¶Ø§ÙØ© Ù‚Ø§Ø¹Ø©</button>
            <button onclick="testLoadRooms()">Ø§Ø®ØªØ¨Ø§Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù‚Ø§Ø¹Ø§Øª</button>
            <button onclick="testDeleteRoom()">Ø§Ø®ØªØ¨Ø§Ø± Ø­Ø°Ù Ù‚Ø§Ø¹Ø©</button>
            <button onclick="testSync()">Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©</button>
            <div id="roomOperationsStatus"></div>
        </div>

        <div class="test-section">
            <h3>ğŸŒ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø§ØªØµØ§Ù„</h3>
            <button onclick="testOnlineMode()">Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù…ØªØµÙ„</button>
            <button onclick="testOfflineMode()">Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ÙˆØ¶Ø¹ ØºÙŠØ± Ø§Ù„Ù…ØªØµÙ„</button>
            <div id="connectionStatus"></div>
        </div>

        <div class="test-section">
            <h3>ğŸ“Š Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ØªÙØµÙŠÙ„ÙŠØ©</h3>
            <button onclick="runAllTests()">ØªØ´ØºÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª</button>
            <button onclick="clearResults()">Ù…Ø³Ø­ Ø§Ù„Ù†ØªØ§Ø¦Ø¬</button>
            <div id="testResults"></div>
        </div>
    </div>

    <!-- ØªØ¶Ù…ÙŠÙ† Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>

    <!-- ØªØ¶Ù…ÙŠÙ† Ù…Ù„ÙØ§Øª Ø§Ù„Ù†Ø¸Ø§Ù… -->
    <script>
        // Ø¥Ø¹Ø¯Ø§Ø¯ Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyDGpAHia_wEmrhnmYjrPf1n1TrAzwEtKG8",
            authDomain: "zawiyah-76151.firebaseapp.com",
            projectId: "zawiyah-76151",
            storageBucket: "zawiyah-76151.firebasestorage.app",
            messagingSenderId: "333165441127",
            appId: "1:333165441127:web:ba2b3d3c39807ac788357c"
        };
        
        if (!firebase.apps.length) {
            firebase.initializeApp(firebaseConfig);
        }
        const db = firebase.firestore();
    </script>
    <script src="dataManager.js"></script>

    <script>
        let testResults = [];

        function logResult(test, status, message) {
            const result = {
                test,
                status,
                message,
                timestamp: new Date().toLocaleString('ar-SA')
            };
            testResults.push(result);
            displayResults();
        }

        function displayResults() {
            const resultsDiv = document.getElementById('testResults');
            resultsDiv.innerHTML = testResults.map(result => `
                <div class="status ${result.status}">
                    <strong>[${result.timestamp}] ${result.test}:</strong> ${result.message}
                </div>
            `).join('');
        }

        async function checkSystems() {
            const statusDiv = document.getElementById('systemStatus');
            statusDiv.innerHTML = '<div class="status info">Ø¬Ø§Ø±ÙŠ ÙØ­Øµ Ø§Ù„Ø£Ù†Ø¸Ù…Ø©...</div>';

            let html = '';

            // ÙØ­Øµ Firebase
            try {
                await db.collection('test').limit(1).get();
                html += '<div class="status success">âœ… Firebase Ù…ØªØµÙ„ ÙˆÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ Ø·Ø¨ÙŠØ¹ÙŠ</div>';
                logResult('ÙØ­Øµ Firebase', 'success', 'Ø§Ù„Ø§ØªØµØ§Ù„ Ù†Ø§Ø¬Ø­');
            } catch (error) {
                html += '<div class="status error">âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù€ Firebase: ' + error.message + '</div>';
                logResult('ÙØ­Øµ Firebase', 'error', error.message);
            }

            // ÙØ­Øµ dataManager
            if (window.dataManager) {
                html += '<div class="status success">âœ… dataManager Ù…ØªØ§Ø­</div>';
                if (window.dataManager.initialized) {
                    html += '<div class="status success">âœ… dataManager Ù…Ù‡ÙŠØ¦</div>';
                    logResult('ÙØ­Øµ dataManager', 'success', 'Ø§Ù„Ù†Ø¸Ø§Ù… Ù…Ù‡ÙŠØ¦ ÙˆÙ…ØªØ§Ø­');
                } else {
                    html += '<div class="status info">âš ï¸ dataManager ÙÙŠ Ø·ÙˆØ± Ø§Ù„ØªÙ‡ÙŠØ¦Ø©</div>';
                    logResult('ÙØ­Øµ dataManager', 'info', 'ÙÙŠ Ø·ÙˆØ± Ø§Ù„ØªÙ‡ÙŠØ¦Ø©');
                }
            } else {
                html += '<div class="status error">âŒ dataManager ØºÙŠØ± Ù…ØªØ§Ø­</div>';
                logResult('ÙØ­Øµ dataManager', 'error', 'ØºÙŠØ± Ù…ØªØ§Ø­');
            }

            // ÙØ­Øµ localStorage
            try {
                localStorage.setItem('test_key', 'test_value');
                const testValue = localStorage.getItem('test_key');
                if (testValue === 'test_value') {
                    html += '<div class="status success">âœ… localStorage ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ Ø·Ø¨ÙŠØ¹ÙŠ</div>';
                    localStorage.removeItem('test_key');
                    logResult('ÙØ­Øµ localStorage', 'success', 'ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ Ø·Ø¨ÙŠØ¹ÙŠ');
                } else {
                    throw new Error('Ù‚ÙŠÙ…Ø© ØºÙŠØ± ØµØ­ÙŠØ­Ø©');
                }
            } catch (error) {
                html += '<div class="status error">âŒ Ø®Ø·Ø£ ÙÙŠ localStorage: ' + error.message + '</div>';
                logResult('ÙØ­Øµ localStorage', 'error', error.message);
            }

            statusDiv.innerHTML = html;
        }

        async function testAddRoom() {
            const statusDiv = document.getElementById('roomOperationsStatus');
            statusDiv.innerHTML = '<div class="status info">Ø¬Ø§Ø±ÙŠ Ø§Ø®ØªØ¨Ø§Ø± Ø¥Ø¶Ø§ÙØ© Ù‚Ø§Ø¹Ø©...</div>';

            try {
                const testRoomName = 'Ù‚Ø§Ø¹Ø© Ø§Ø®ØªØ¨Ø§Ø± ' + Date.now();
                
                // Ù…Ø­Ø§ÙˆÙ„Ø© Ø¥Ø¶Ø§ÙØ© Ù‚Ø§Ø¹Ø©
                if (window.dataManager) {
                    const currentRooms = await dataManager.getData('school_rooms', []);
                    const newRooms = [...currentRooms, testRoomName];
                    await dataManager.saveData('school_rooms', newRooms);
                    
                    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø­ÙØ¸
                    const savedRooms = await dataManager.getData('school_rooms', []);
                    if (savedRooms.includes(testRoomName)) {
                        statusDiv.innerHTML = '<div class="status success">âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù‚Ø§Ø¹Ø© Ø¨Ù†Ø¬Ø§Ø­: ' + testRoomName + '</div>';
                        logResult('Ø¥Ø¶Ø§ÙØ© Ù‚Ø§Ø¹Ø©', 'success', 'ØªÙ…Øª Ø¥Ø¶Ø§ÙØ©: ' + testRoomName);
                    } else {
                        throw new Error('ÙØ´Ù„ ÙÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø­ÙØ¸');
                    }
                } else {
                    throw new Error('dataManager ØºÙŠØ± Ù…ØªØ§Ø­');
                }
            } catch (error) {
                statusDiv.innerHTML = '<div class="status error">âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù‚Ø§Ø¹Ø©: ' + error.message + '</div>';
                logResult('Ø¥Ø¶Ø§ÙØ© Ù‚Ø§Ø¹Ø©', 'error', error.message);
            }
        }

        async function testLoadRooms() {
            const statusDiv = document.getElementById('roomOperationsStatus');
            statusDiv.innerHTML = '<div class="status info">Ø¬Ø§Ø±ÙŠ Ø§Ø®ØªØ¨Ø§Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù‚Ø§Ø¹Ø§Øª...</div>';

            try {
                if (window.dataManager) {
                    const rooms = await dataManager.getData('school_rooms', []);
                    statusDiv.innerHTML = '<div class="status success">âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ ' + rooms.length + ' Ù‚Ø§Ø¹Ø© Ø¨Ù†Ø¬Ø§Ø­</div>';
                    logResult('ØªØ­Ù…ÙŠÙ„ Ù‚Ø§Ø¹Ø§Øª', 'success', 'ØªÙ… ØªØ­Ù…ÙŠÙ„ ' + rooms.length + ' Ù‚Ø§Ø¹Ø©');
                } else {
                    throw new Error('dataManager ØºÙŠØ± Ù…ØªØ§Ø­');
                }
            } catch (error) {
                statusDiv.innerHTML = '<div class="status error">âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù‚Ø§Ø¹Ø§Øª: ' + error.message + '</div>';
                logResult('ØªØ­Ù…ÙŠÙ„ Ù‚Ø§Ø¹Ø§Øª', 'error', error.message);
            }
        }

        async function testDeleteRoom() {
            const statusDiv = document.getElementById('roomOperationsStatus');
            statusDiv.innerHTML = '<div class="status info">Ø¬Ø§Ø±ÙŠ Ø§Ø®ØªØ¨Ø§Ø± Ø­Ø°Ù Ù‚Ø§Ø¹Ø©...</div>';

            try {
                if (window.dataManager) {
                    let rooms = await dataManager.getData('school_rooms', []);
                    const testRooms = rooms.filter(room => room.includes('Ù‚Ø§Ø¹Ø© Ø§Ø®ØªØ¨Ø§Ø±'));
                    
                    if (testRooms.length > 0) {
                        const roomToDelete = testRooms[0];
                        const filteredRooms = rooms.filter(room => room !== roomToDelete);
                        await dataManager.saveData('school_rooms', filteredRooms);
                        
                        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø­Ø°Ù
                        const updatedRooms = await dataManager.getData('school_rooms', []);
                        if (!updatedRooms.includes(roomToDelete)) {
                            statusDiv.innerHTML = '<div class="status success">âœ… ØªÙ… Ø­Ø°Ù Ø§Ù„Ù‚Ø§Ø¹Ø© Ø¨Ù†Ø¬Ø§Ø­: ' + roomToDelete + '</div>';
                            logResult('Ø­Ø°Ù Ù‚Ø§Ø¹Ø©', 'success', 'ØªÙ… Ø­Ø°Ù: ' + roomToDelete);
                        } else {
                            throw new Error('ÙØ´Ù„ ÙÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø­Ø°Ù');
                        }
                    } else {
                        statusDiv.innerHTML = '<div class="status info">â„¹ï¸ Ù„Ø§ ØªÙˆØ¬Ø¯ Ù‚Ø§Ø¹Ø§Øª Ø§Ø®ØªØ¨Ø§Ø± Ù„Ù„Ø­Ø°Ù</div>';
                        logResult('Ø­Ø°Ù Ù‚Ø§Ø¹Ø©', 'info', 'Ù„Ø§ ØªÙˆØ¬Ø¯ Ù‚Ø§Ø¹Ø§Øª Ø§Ø®ØªØ¨Ø§Ø±');
                    }
                } else {
                    throw new Error('dataManager ØºÙŠØ± Ù…ØªØ§Ø­');
                }
            } catch (error) {
                statusDiv.innerHTML = '<div class="status error">âŒ Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ù‚Ø§Ø¹Ø©: ' + error.message + '</div>';
                logResult('Ø­Ø°Ù Ù‚Ø§Ø¹Ø©', 'error', error.message);
            }
        }

        async function testSync() {
            const statusDiv = document.getElementById('roomOperationsStatus');
            statusDiv.innerHTML = '<div class="status info">Ø¬Ø§Ø±ÙŠ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©...</div>';

            try {
                if (window.dataManager && window.dataManager.forceSyncAll) {
                    await dataManager.forceSyncAll();
                    statusDiv.innerHTML = '<div class="status success">âœ… ØªÙ…Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø¨Ù†Ø¬Ø§Ø­</div>';
                    logResult('Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª', 'success', 'ØªÙ…Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø¨Ù†Ø¬Ø§Ø­');
                } else {
                    throw new Error('Ø¯Ø§Ù„Ø© Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© ØºÙŠØ± Ù…ØªØ§Ø­Ø©');
                }
            } catch (error) {
                statusDiv.innerHTML = '<div class="status error">âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©: ' + error.message + '</div>';
                logResult('Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª', 'error', error.message);
            }
        }

        async function testOnlineMode() {
            const statusDiv = document.getElementById('connectionStatus');
            statusDiv.innerHTML = '<div class="status info">Ø¬Ø§Ø±ÙŠ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù…ØªØµÙ„...</div>';

            try {
                // Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù€ Firebase
                const testDoc = await db.collection('test').doc('connection-test').set({
                    timestamp: firebase.firestore.FieldValue.serverTimestamp(),
                    test: 'online-mode'
                });
                
                statusDiv.innerHTML = '<div class="status success">âœ… Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù…ØªØµÙ„ ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ Ø·Ø¨ÙŠØ¹ÙŠ</div>';
                logResult('Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù…ØªØµÙ„', 'success', 'Ø§ØªØµØ§Ù„ Firebase Ù†Ø´Ø·');
            } catch (error) {
                statusDiv.innerHTML = '<div class="status error">âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù…ØªØµÙ„: ' + error.message + '</div>';
                logResult('Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù…ØªØµÙ„', 'error', error.message);
            }
        }

        async function testOfflineMode() {
            const statusDiv = document.getElementById('connectionStatus');
            statusDiv.innerHTML = '<div class="status info">Ø¬Ø§Ø±ÙŠ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ÙˆØ¶Ø¹ ØºÙŠØ± Ø§Ù„Ù…ØªØµÙ„...</div>';

            try {
                // Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¹Ù…Ù„ Ù…Ø¹ localStorage ÙÙ‚Ø·
                const testData = ['Ù‚Ø§Ø¹Ø© Ø§Ø®ØªØ¨Ø§Ø± Ø£ÙˆÙÙ„Ø§ÙŠÙ†'];
                localStorage.setItem('offline_test_rooms', JSON.stringify(testData));
                
                const retrievedData = JSON.parse(localStorage.getItem('offline_test_rooms') || '[]');
                if (JSON.stringify(retrievedData) === JSON.stringify(testData)) {
                    statusDiv.innerHTML = '<div class="status success">âœ… Ø§Ù„ÙˆØ¶Ø¹ ØºÙŠØ± Ø§Ù„Ù…ØªØµÙ„ ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ Ø·Ø¨ÙŠØ¹ÙŠ</div>';
                    localStorage.removeItem('offline_test_rooms');
                    logResult('Ø§Ù„ÙˆØ¶Ø¹ ØºÙŠØ± Ø§Ù„Ù…ØªØµÙ„', 'success', 'localStorage ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ Ø·Ø¨ÙŠØ¹ÙŠ');
                } else {
                    throw new Error('ÙØ´Ù„ ÙÙŠ ØªØ®Ø²ÙŠÙ† Ø£Ùˆ Ø§Ø³ØªØ±Ø¯Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');
                }
            } catch (error) {
                statusDiv.innerHTML = '<div class="status error">âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ÙˆØ¶Ø¹ ØºÙŠØ± Ø§Ù„Ù…ØªØµÙ„: ' + error.message + '</div>';
                logResult('Ø§Ù„ÙˆØ¶Ø¹ ØºÙŠØ± Ø§Ù„Ù…ØªØµÙ„', 'error', error.message);
            }
        }

        async function runAllTests() {
            logResult('Ø¨Ø¯Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª', 'info', 'ØªØ´ØºÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ø´Ø§Ù…Ù„Ø©');
            
            await checkSystems();
            await new Promise(resolve => setTimeout(resolve, 1000));
            
            await testLoadRooms();
            await new Promise(resolve => setTimeout(resolve, 1000));
            
            await testAddRoom();
            await new Promise(resolve => setTimeout(resolve, 1000));
            
            await testDeleteRoom();
            await new Promise(resolve => setTimeout(resolve, 1000));
            
            await testSync();
            await new Promise(resolve => setTimeout(resolve, 1000));
            
            await testOnlineMode();
            await new Promise(resolve => setTimeout(resolve, 1000));
            
            await testOfflineMode();
            
            logResult('Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª', 'success', 'ØªÙ… ØªØ´ØºÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø¨Ù†Ø¬Ø§Ø­');
        }

        function clearResults() {
            testResults = [];
            document.getElementById('testResults').innerHTML = '';
            document.getElementById('systemStatus').innerHTML = '';
            document.getElementById('roomOperationsStatus').innerHTML = '';
            document.getElementById('connectionStatus').innerHTML = '';
        }

        // ØªØ´ØºÙŠÙ„ ÙØ­Øµ Ø£ÙˆÙ„ÙŠ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        window.addEventListener('load', () => {
            setTimeout(checkSystems, 1000);
        });
    </script>
</body>
</html>